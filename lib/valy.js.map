{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 58929ab6de6b98cccbe5","webpack:///./src/valy.js","webpack:///./src/polyfills.js","webpack:///./src/valy.core.js","webpack:///./src/valy.ui.js"],"names":["INPUT_TYPE_EVENT_INPUT","Valy","formElement","settings","init","setAttribute","bind","addEventListener","handleSubmit","event","collectFormElements","forEach","element","includes","type","toLowerCase","handleElementChange","validateForm","valid","preventDefault","validateElement","target","getRadioSiblings","errors","map","validation","filter","item","length","setFormValid","setFormInvalid","validationType","determineValidationType","validationRules","getValidationRules","validateFile","validateCheckbox","validateRadio","validateSelect","validateField","console","error","name","setElementValid","setElementInvalid","Element","prototype","closest","selector","all","Array","from","document","querySelectorAll","current","parentNode","remove","removeChild","INPUT_TYPE_FIELD","EXCLUDED_ELEMENT_NAMES","EXCLUDED_INPUT_TYPES","EMAIL_REGEX","RegExp","join","rulesAttribute","Core","input","match","form","elementName","nodeName","elementType","elements","escapedRegexes","getAttribute","replace","push","split","rule","key","options","option","isNaN","Number","getRegExpFromString","index","rules","required","pattern","getCustomValidationRules","value","checked","siblings","hasCheckedSibling","selectedCount","selected","test","querySelector","classHolderAttribute","messageContainerAttribute","errorByTypeAttribute","elementInvalidClass","elementValidClass","errorMessageClass","formElementInvalidClass","formElementValidClass","UI","messageContainerSelector","messageContainer","errorType","classHolder","getHTMLClassHolder","setCustomValidity","classList","add","clearElementErrorMessages","setElementErrorMessages","formErrors","setFormErrorMessages","messageContainerElement","getMessageContainer","messagesFragment","createDocumentFragment","Set","errorText","getErrorMessageByType","errorElement","createElement","textContent","appendChild","formError"],"mappings":"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","file":"valy.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Valy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Valy\"] = factory();\n\telse\n\t\troot[\"Valy\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 58929ab6de6b98cccbe5\n **/","'use strict';\n\nimport './polyfills';\nimport Core from './valy.core';\nimport UI from './valy.ui';\n\n/**\n * Constants\n */\nconst INPUT_TYPE_EVENT_INPUT = [\n  'text',\n  'password',\n  'color',\n  'date',\n  'datetime',\n  'datetime',\n  'email',\n  'month',\n  'number',\n  'range',\n  'search',\n  'tel',\n  'time',\n  'url',\n  'week'\n];\n\n/**\n * Plugion class\n * Provides API to the user.\n */\nexport default class Valy {\n\n  /**\n   * Plugin class constructor\n   * @param  {element} formElement\n   * @param  {Object} settings    Config object\n   */\n  constructor(formElement, settings = {}) {\n    // Prevent initialisation if there is no element present.\n    if (!formElement) {\n      return;\n    }\n\n    this.formElement = formElement;\n\n    this.settings = settings;\n\n    this.init();\n  }\n\n  /**\n   * Class initialize method\n   */\n  init() {\n    // Stop the browser default validation\n    this.formElement.setAttribute('novalidate', true);\n\n    this.bind();\n  }\n\n  /**\n   * Class event bind method\n   */\n  bind() {\n    this.formElement.addEventListener('submit', event => this.handleSubmit(event));\n\n    Core.collectFormElements(this.formElement).forEach((element) => {\n      element.addEventListener(\n        (INPUT_TYPE_EVENT_INPUT.includes(element.type.toLowerCase()) ? 'input' : 'change'),\n        event => this.handleElementChange(event)\n      );\n    });\n  }\n\n  /**\n   * Handles submit event - validates form and prevents form submission if there are errors.\n   */\n  handleSubmit(event) {\n    if (!Valy.validateForm(this.formElement).valid) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Handles element change - live validate elements.\n   */\n  handleElementChange(event) {\n    Valy.validateElement(event.target);\n\n    // Validate radio siblings, or they may have error set from previous validations.\n    if (event.target.type.toLowerCase() === 'radio') {\n      Core.getRadioSiblings(event.target).forEach(element => {\n        if (element !== event.target) Valy.validateElement(element);\n      });\n    }\n  }\n\n  /**\n   * Validates form\n   * @param  {Element} formElement\n   * @return {Object}             Form valid state and form errors\n   */\n  static validateForm(formElement) {\n\n    // Collect form elements\n    const errors = Core.collectFormElements(formElement)\n\n      // Validate each element\n      .map(element => {\n        return {\n          element: element,\n          validation: Valy.validateElement(element)\n        };\n      })\n\n      // Filter only errors\n      .filter(item => item.validation.errors.length);\n\n    const valid = !errors.length;\n\n    if (valid) {\n      Valy.setFormValid(formElement);\n    } else {\n      Valy.setFormInvalid(formElement, errors);\n    }\n\n    return {valid, errors};\n  }\n\n  /**\n   * Validates element\n   * @param  {Element} element\n   * @return {Object}         Element valid state and errors\n   */\n  static validateElement(element) {\n    const validationType = Core.determineValidationType(element);\n    const validationRules = Core.getValidationRules(element);\n    let validation = {\n      valid: true,\n      errors: []\n    };\n\n    switch (validationType) {\n      case 'file':\n        validation = Core.validateFile(element, validationRules);\n        break;\n\n      case 'checkbox':\n        validation = Core.validateCheckbox(element, validationRules);\n        break;\n\n      case 'radio':\n        validation = Core.validateRadio(element, validationRules);\n        break;\n\n      case 'select':\n        validation = Core.validateSelect(element, validationRules);\n        break;\n\n      case 'field':\n        validation = Core.validateField(element, validationRules);\n        break;\n\n      default:\n        console.error(`ValyJS: Can't validate \"${element.name || element.type}\" element!`);\n    }\n\n    if (validation.valid) {\n      Valy.setElementValid(element);\n    } else {\n      Valy.setElementInvalid(element, validation.errors);\n    }\n\n    return validation;\n  }\n\n  /**\n   * Sets element as valid\n   * @param {Element} element\n   */\n  static setElementValid(element) {\n    UI.setElementValid(element);\n  }\n\n  /**\n   * Sets element as invalid\n   * @param {Element} element\n   * @param {Array} errors  Array of errors\n   */\n  static setElementInvalid(element, errors) {\n    UI.setElementInvalid(element, errors);\n  }\n\n  /**\n   * Sets element as valid\n   * @param {Element} element\n   */\n  static setFormValid(element) {\n    UI.setFormValid(element);\n  }\n\n  /**\n   * Sets element as invalid\n   * @param {Element} element\n   * @param {Array} errors  Array of elements ad errors\n   */\n  static setFormInvalid(element, errors) {\n    UI.setFormInvalid(element, errors);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/valy.js\n **/","// Polyfills\n\n// Adds support for Element.closest() - Android 4.4, Edge, Safari 8, iOS Safari 8.4\nif (!('closest' in Element.prototype)) {\n  Element.prototype.closest = function (selector) {\n    let all = Array.from(document.querySelectorAll(selector));\n    let current = this;\n\n    while (current && !all.includes(current)) {\n      current = current.parentNode;\n    }\n\n    return current;\n  };\n}\n\n// Adds support for Element.remove() - IE 11, Android 4.3, Safari 6, iOS Safari 6.1\nif (!('remove' in Element.prototype)) {\n  Element.prototype.remove = function () {\n    if (this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/polyfills.js\n **/","'use strict';\n\n/**\n * Constants\n */\nconst INPUT_TYPE_FIELD = [\n  'text',\n  'password',\n  'color',\n  'date',\n  'datetime',\n  'datetime',\n  'email',\n  'month',\n  'number',\n  'range',\n  'search',\n  'tel',\n  'time',\n  'url',\n  'week',\n  'file'\n];\n\nconst EXCLUDED_ELEMENT_NAMES = [\n  'button',\n  'keygen',\n  'output'\n];\n\nconst EXCLUDED_INPUT_TYPES = [\n  'submit',\n  'reset',\n  'button',\n  'datetime-local'\n];\n\nconst EMAIL_REGEX = new RegExp([\n  '^[-a-z0-9~!$%^&*_=+}{\\'?]+(\\.[-a-z0-9~!$%^&*_=+}{\\'?]+)*@', // [username]@\n  '([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.', // [second-level domain].\n  '(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|onion|[a-z][a-z])|',\n  '([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$' // [top-level domain]\n].join(''), 'i');\n\nconst rulesAttribute = 'data-valy-rules';\n\n/**\n * Core class\n * Handles core methods.\n */\nexport default class Core {\n\n  /**\n   * Converts RegExp like string to RegExp object\n   * @param  {String} input\n   * @return {RegExp}\n   */\n  static getRegExpFromString(input) {\n    return new RegExp(input.match(/^\\/(.+)\\/(\\w*)$/)[1], input.match(/^\\/(.+)\\/(\\w*)$/)[2]);\n  }\n\n  /**\n   * Gets radio element siblings\n   * @param  {Element} element\n   * @return {Array}         Array of elements\n   */\n  static getRadioSiblings(element) {\n    return Array.from((element.form || document).querySelectorAll(`[name=\"${element.name}\"]`));\n  }\n\n  /**\n   * Determines the validation type of an element\n   * @param  {Element} element\n   * @return {String or null}         Validation type or null\n   */\n  static determineValidationType(element) {\n    const elementName = element.nodeName.toLowerCase();\n    const elementType = element.type.toLowerCase();\n\n    switch (true) {\n      case elementName === 'textarea':\n      case elementName === 'input' && INPUT_TYPE_FIELD.includes(elementType):\n        return 'field';\n\n      case elementName === 'input' && elementType === 'checkbox':\n        return 'checkbox';\n\n      case elementName === 'input' && elementType === 'radio':\n        return 'radio';\n\n      case elementName === 'select':\n        return 'select';\n\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * Collects form elements\n   * @param  {Element} formElement\n   * @return {Array}             Array of elements\n   */\n  static collectFormElements(formElement) {\n    return Array.from(formElement.elements).filter(element => {\n      const elementName = element.nodeName.toLowerCase();\n      const elementType = element.type.toLowerCase();\n\n      return !(\n        EXCLUDED_ELEMENT_NAMES.includes(elementName) ||\n        elementName === 'input' &&\n        EXCLUDED_INPUT_TYPES.includes(elementType)\n      );\n    });\n  }\n\n  /**\n   * Gets custom validation rules\n   * @param  {Element} element\n   * @return {Array}         Array of validation rules\n   */\n  static getCustomValidationRules(element) {\n    const escapedRegexes = [];\n\n    return element.getAttribute(rulesAttribute)\n\n      // Exclude the escaped slashes from the string\n      .replace(/\\\\\\//g, '@@escapedRegexSlash@@')\n\n      // Exclude the regexes from the string\n      .replace(/\\/.*?\\/\\w+/g, match => {\n        escapedRegexes.push(match);\n\n        return `@@escapedRegex${(escapedRegexes.length - 1)}@@`;\n      })\n\n      // Split the rules into array\n      .split(/;\\s?/)\n        // Remove the empty rules\n        .filter(rule => !!rule)\n        .map(rule => {\n          const key = rule.split('(')[0];\n          const options = rule\n            // Remove the key\n            .replace(key, '')\n\n            // Remove the brackets\n            .replace(/\\(|\\)/g, '')\n\n            // Split the options into array\n            .split(/,\\s?/)\n\n            // Remove the empty options\n            .filter(option => option !== '')\n\n            // Add back the regexes or convert to number\n            .map(option => {\n              if (!isNaN(option)) {\n                return Number(option);\n              } else if (option.match(/@@escapedRegex(\\d+)@@/)) {\n                return Core.getRegExpFromString(option\n                  .replace(/@@escapedRegex(\\d+)@@/, (match, index) =>\n                    escapedRegexes[index - 0].replace(/@@escapedRegexSlash@@/g, '\\\\/')\n                  ));\n              }\n\n              return option;\n\n            });\n\n          return {key, options};\n        });\n  }\n\n  /**\n   * Gets validation rules\n   * @param  {Element} element\n   * @return {Array}         Array of validation rules\n   */\n  static getValidationRules(element) {\n    const rules = [];\n\n    if (element.required) {\n      rules.push({\n        key: 'required',\n        options: []\n      });\n    }\n\n    if (element.pattern) {\n      rules.push({\n        key: 'pattern',\n        options: new RegExp(element.pattern)\n      });\n    }\n\n    if (element.type && element.type === 'email') {\n      rules.push({\n        key: 'email'\n      });\n    }\n\n    if (element.getAttribute(rulesAttribute)) {\n      rules.push(...Core.getCustomValidationRules(element));\n    }\n\n    return rules;\n  }\n\n  /**\n   * Validates file\n   * @param  {Element} element\n   * @param  {Array} validationRules\n   * @return {Object}                 Element valid state and errors\n   */\n  static validateFile(element, validationRules) {\n    let valid = true;\n    const errors = [];\n\n    validationRules.forEach(rule => {\n\n      switch (rule.key) {\n        case 'required':\n          if (!element.value) {\n            valid = false;\n\n            errors.push('required');\n          }\n          break;\n      }\n    });\n\n    return {valid, errors};\n  }\n\n  /**\n   * Validates checkbox\n   * @param  {Element} element\n   * @param  {Array} validationRules\n   * @return {Object}                 Element valid state and errors\n   */\n  static validateCheckbox(element, validationRules) {\n    let valid = true;\n    const errors = [];\n\n    validationRules.forEach(rule => {\n\n      switch (rule.key) {\n        case 'required':\n          if (!element.checked) {\n            valid = false;\n\n            errors.push('required');\n          }\n          break;\n\n        case 'unchecked':\n          if (element.checked) {\n            valid = false;\n\n            errors.push('unchecked');\n          }\n          break;\n      }\n    });\n\n    return {valid, errors};\n  }\n\n  /**\n   * Validates radio\n   * @param  {Element} element\n   * @param  {Array} validationRules\n   * @return {Object}                 Element valid state and errors\n   */\n  static validateRadio(element, validationRules) {\n    let valid = true;\n    const errors = [];\n    const siblings = Core.getRadioSiblings(element);\n\n    validationRules.forEach(rule => {\n\n      switch (rule.key) {\n        case 'required':\n          let hasCheckedSibling = false;\n\n          siblings.forEach(element => {\n            if (element.checked) {\n              hasCheckedSibling = true;\n            }\n          });\n\n          if (!hasCheckedSibling) {\n            valid = false;\n\n            errors.push('required');\n          }\n          break;\n\n        case 'selected':\n          if (!element.checked) {\n            valid = false;\n\n            errors.push('selected');\n          }\n          break;\n\n        case 'unselected':\n          if (element.checked) {\n            valid = false;\n\n            errors.push('unselected');\n          }\n          break;\n      }\n    });\n\n    return {valid, errors};\n  }\n\n  /**\n   * Validates select\n   * @param  {Element} element\n   * @param  {Array} validationRules\n   * @return {Object}                 Element valid state and errors\n   */\n  static validateSelect(element, validationRules) {\n    let valid = true;\n    const errors = [];\n\n    validationRules.forEach(rule => {\n\n      switch (rule.key) {\n        case 'required':\n          if (element.value === '') {\n            valid = false;\n\n            errors.push('required');\n          }\n          break;\n\n        case 'exact':\n          if (element.value !== rule.options[0]) {\n            valid = false;\n\n            errors.push('exact');\n          }\n          break;\n\n        case 'selectedCount':\n          const selectedCount = Array.from(element.options).filter(option => option.selected).length;\n\n          if (selectedCount < rule.options[0] || selectedCount > rule.options[1]) {\n            valid = false;\n\n            errors.push('selectedCount');\n          }\n          break;\n      }\n    });\n\n    return {valid, errors};\n  }\n\n  /**\n   * Validates field\n   * @param  {Element} element\n   * @param  {Array} validationRules\n   * @return {Object}                 Element valid state and errors\n   */\n  static validateField(element, validationRules) {\n    let valid = true;\n    const value = element.value;\n    const errors = [];\n\n    validationRules.forEach(rule => {\n\n      switch (rule.key) {\n        case 'required':\n          if (value === '') {\n            valid = false;\n\n            errors.push('required');\n          }\n          break;\n\n        case 'pattern':\n          if (value !== '' && !rule.options[0].test(value)) {\n            valid = false;\n\n            errors.push('pattern');\n          }\n          break;\n\n        case 'email':\n          if (value !== '' && !value.match(EMAIL_REGEX)) {\n            valid = false;\n\n            errors.push('email');\n          }\n          break;\n\n        case 'presence':\n          if (value.length < (rule.options.length ? rule.options[0] : 1) || value.length > rule.options[1]) {\n            valid = false;\n\n            errors.push('presence');\n          }\n          break;\n\n        case 'exact':\n          if (value !== rule.options[0]) {\n            valid = false;\n\n            errors.push('exact');\n          }\n          break;\n\n        case 'number':\n          if (isNaN(value) || Number(value) < rule.options[0] || Number(value) > rule.options[1]) {\n            valid = false;\n\n            errors.push('number');\n          }\n          break;\n\n        case 'matchField':\n          if (document.querySelector(rule.options[0]) && value !== document.querySelector(rule.options[0]).value) {\n            valid = false;\n\n            errors.push('matchField');\n          }\n          break;\n      }\n    });\n\n    return {valid, errors};\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/valy.core.js\n **/","'use strict';\n\n/**\n * Constants\n */\nconst classHolderAttribute = 'data-valy-class-holder';\nconst messageContainerAttribute = 'data-valy-message-container';\nconst errorByTypeAttribute = 'data-valy-error-';\nconst elementInvalidClass = 'valy-invalid';\nconst elementValidClass = 'valy-valid';\nconst errorMessageClass = 'valy-error-message';\nconst formElementInvalidClass = 'valy-form-invalid';\nconst formElementValidClass = 'valy-form-valid';\n\n/**\n * UI Class\n * Handles DOM modifications\n */\nexport default class UI {\n\n  /**\n   * Gets error/valid class holder of element\n   * @param  {Element} element\n   * @return {Element}         Class holder\n   */\n  static getHTMLClassHolder(element) {\n    return element.closest(element.getAttribute(classHolderAttribute)) || element;\n  }\n\n  /**\n   * Gets message container for element messages\n   * @param  {Element} element\n   * @return {Element}         Message container\n   */\n  static getMessageContainer(element) {\n    const messageContainerSelector = element.getAttribute(messageContainerAttribute);\n    let messageContainer = null;\n    let current = element;\n\n    if (!messageContainerSelector) {\n      return null;\n    }\n\n    while (current && !messageContainer) {\n      messageContainer = current.querySelector(messageContainerSelector);\n      current = current.parentNode;\n    }\n\n    return messageContainer;\n  }\n\n  /**\n   * Gets error message for specific element by it's type\n   * @param  {Element} element\n   * @param  {String} errorType\n   * @return {String}           Error message\n   */\n  static getErrorMessageByType(element, errorType) {\n    return element.getAttribute(errorByTypeAttribute + errorType);\n  }\n\n  /**\n   * Sets element as valid\n   * @param {Element} element\n   */\n  static setElementValid(element) {\n\n    const classHolder = UI.getHTMLClassHolder(element);\n\n    // Make element valid\n    element.setCustomValidity('');\n\n    // Add valid class to the class holder\n    classHolder.classList.add(elementValidClass);\n\n    // Remove invalid class from the class holder\n    classHolder.classList.remove(elementInvalidClass);\n\n    UI.clearElementErrorMessages(element);\n  }\n\n  /**\n   * Sets element as invalid\n   * @param {Element} element\n   * @param {Array} errors  Array of errors\n   */\n  static setElementInvalid(element, errors) {\n\n    const classHolder = UI.getHTMLClassHolder(element);\n\n    // Make element invalid\n    element.setCustomValidity(errors.join(', '));\n\n    // Add invalid class to the class holder\n    classHolder.classList.add(elementInvalidClass);\n\n    // Remove valid class from the class holder\n    classHolder.classList.remove(elementValidClass);\n\n    UI.setElementErrorMessages(element, errors);\n  }\n\n  /**\n   * Sets form as valid\n   * @param {Element} element\n   */\n  static setFormValid(element) {\n\n    // Add valid class to the element\n    element.classList.add(formElementValidClass);\n\n    // Remove invalid class from the element\n    element.classList.remove(formElementInvalidClass);\n\n    UI.clearElementErrorMessages(element);\n  }\n\n  /**\n   * Sets form as invalid\n   * @param {Element} element\n   * @param {Array} formErrors Array of elements and errors\n   */\n  static setFormInvalid(element, formErrors) {\n\n    // Add error class to the element\n    element.classList.add(formElementInvalidClass);\n\n    // Remove valid class from the element\n    element.classList.remove(formElementValidClass);\n\n    UI.setFormErrorMessages(element, formErrors);\n  }\n\n  /**\n   * Clears element error messages\n   * @param  {Element} element\n   */\n  static clearElementErrorMessages(element) {\n    const messageContainerElement = UI.getMessageContainer(element);\n\n    // Clear messages\n    if (messageContainerElement) {\n      messageContainerElement\n        .querySelectorAll(`.${errorMessageClass}`)\n        .forEach(element => element.remove());\n    }\n  }\n\n  /**\n   * Sets element error messages\n   * @param {Element} element\n   * @param {Array} errors  Array of errors\n   */\n  static setElementErrorMessages(element, errors) {\n    const messageContainerElement = UI.getMessageContainer(element);\n\n    // Set messages\n    if (messageContainerElement) {\n      const messagesFragment = document.createDocumentFragment();\n\n      // Remove duplicates\n      [...new Set(errors)]\n        .forEach(error => {\n          const errorText = UI.getErrorMessageByType(element, error);\n\n          if (errorText) {\n            const errorElement = document.createElement('span');\n\n            errorElement.textContent = errorText;\n\n            errorElement.classList.add(errorMessageClass);\n\n            messagesFragment.appendChild(errorElement);\n          }\n        });\n\n      UI.clearElementErrorMessages(element);\n\n      messageContainerElement.appendChild(messagesFragment);\n    }\n\n  }\n\n  /**\n   * Sets form element error messages\n   * @param {Element} formElement\n   * @param {Array} formErrors  Array of elements and errors\n   */\n  static setFormErrorMessages(formElement, formErrors) {\n    const messageContainerElement = UI.getMessageContainer(formElement);\n\n    // Set messages\n    if (messageContainerElement) {\n      const messagesFragment = document.createDocumentFragment();\n\n      formErrors.forEach(formError => {\n\n        // Remove duplicates\n        [...new Set(formError.validation.errors)]\n          .forEach(error => {\n            const errorText = UI.getErrorMessageByType(formError.element, error);\n\n            if (errorText) {\n              const errorElement = document.createElement('span');\n\n              errorElement.textContent = errorText;\n\n              errorElement.classList.add(errorMessageClass);\n\n              messagesFragment.appendChild(errorElement);\n            }\n          });\n      });\n\n      UI.clearElementErrorMessages(formElement);\n\n      messageContainerElement.appendChild(messagesFragment);\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/valy.ui.js\n **/"],"sourceRoot":""}